{"ast":null,"code":"import _classCallCheck from \"/home/jay/Downloads/major/my-app/gis/web-gis/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/home/jay/Downloads/major/my-app/gis/web-gis/node_modules/@babel/runtime/helpers/esm/createClass.js\";\n/**\n * @module ol/style/IconImageCache\n */\nimport { asString } from '../color.js';\n\n/**\n * @classdesc\n * Singleton class. Available through {@link module:ol/style/IconImageCache.shared}.\n */\nvar IconImageCache = /*#__PURE__*/function () {\n  function IconImageCache() {\n    _classCallCheck(this, IconImageCache);\n    /**\n     * @type {!Object<string, import(\"./IconImage.js\").default>}\n     * @private\n     */\n    this.cache_ = {};\n\n    /**\n     * @type {number}\n     * @private\n     */\n    this.cacheSize_ = 0;\n\n    /**\n     * @type {number}\n     * @private\n     */\n    this.maxCacheSize_ = 32;\n  }\n\n  /**\n   * FIXME empty description for jsdoc\n   */\n  _createClass(IconImageCache, [{\n    key: \"clear\",\n    value: function clear() {\n      this.cache_ = {};\n      this.cacheSize_ = 0;\n    }\n\n    /**\n     * @return {boolean} Can expire cache.\n     */\n  }, {\n    key: \"canExpireCache\",\n    value: function canExpireCache() {\n      return this.cacheSize_ > this.maxCacheSize_;\n    }\n\n    /**\n     * FIXME empty description for jsdoc\n     */\n  }, {\n    key: \"expire\",\n    value: function expire() {\n      if (this.canExpireCache()) {\n        var i = 0;\n        for (var key in this.cache_) {\n          var iconImage = this.cache_[key];\n          if ((i++ & 3) === 0 && !iconImage.hasListener()) {\n            delete this.cache_[key];\n            --this.cacheSize_;\n          }\n        }\n      }\n    }\n\n    /**\n     * @param {string} src Src.\n     * @param {?string} crossOrigin Cross origin.\n     * @param {import(\"../color.js\").Color} color Color.\n     * @return {import(\"./IconImage.js\").default} Icon image.\n     */\n  }, {\n    key: \"get\",\n    value: function get(src, crossOrigin, color) {\n      var key = getKey(src, crossOrigin, color);\n      return key in this.cache_ ? this.cache_[key] : null;\n    }\n\n    /**\n     * @param {string} src Src.\n     * @param {?string} crossOrigin Cross origin.\n     * @param {import(\"../color.js\").Color} color Color.\n     * @param {import(\"./IconImage.js\").default} iconImage Icon image.\n     */\n  }, {\n    key: \"set\",\n    value: function set(src, crossOrigin, color, iconImage) {\n      var key = getKey(src, crossOrigin, color);\n      this.cache_[key] = iconImage;\n      ++this.cacheSize_;\n    }\n\n    /**\n     * Set the cache size of the icon cache. Default is `32`. Change this value when\n     * your map uses more than 32 different icon images and you are not caching icon\n     * styles on the application level.\n     * @param {number} maxCacheSize Cache max size.\n     * @api\n     */\n  }, {\n    key: \"setSize\",\n    value: function setSize(maxCacheSize) {\n      this.maxCacheSize_ = maxCacheSize;\n      this.expire();\n    }\n  }]);\n  return IconImageCache;\n}();\n/**\n * @param {string} src Src.\n * @param {?string} crossOrigin Cross origin.\n * @param {import(\"../color.js\").Color} color Color.\n * @return {string} Cache key.\n */\nfunction getKey(src, crossOrigin, color) {\n  var colorString = color ? asString(color) : 'null';\n  return crossOrigin + ':' + src + ':' + colorString;\n}\nexport default IconImageCache;\n\n/**\n * The {@link module:ol/style/IconImageCache~IconImageCache} for\n * {@link module:ol/style/Icon~Icon} images.\n * @api\n */\nexport var shared = new IconImageCache();","map":{"version":3,"names":["asString","IconImageCache","_classCallCheck","cache_","cacheSize_","maxCacheSize_","_createClass","key","value","clear","canExpireCache","expire","i","iconImage","hasListener","get","src","crossOrigin","color","getKey","set","setSize","maxCacheSize","colorString","shared"],"sources":["/home/jay/Downloads/major/my-app/gis/web-gis/node_modules/ol/style/IconImageCache.js"],"sourcesContent":["/**\n * @module ol/style/IconImageCache\n */\nimport {asString} from '../color.js';\n\n/**\n * @classdesc\n * Singleton class. Available through {@link module:ol/style/IconImageCache.shared}.\n */\nclass IconImageCache {\n  constructor() {\n    /**\n     * @type {!Object<string, import(\"./IconImage.js\").default>}\n     * @private\n     */\n    this.cache_ = {};\n\n    /**\n     * @type {number}\n     * @private\n     */\n    this.cacheSize_ = 0;\n\n    /**\n     * @type {number}\n     * @private\n     */\n    this.maxCacheSize_ = 32;\n  }\n\n  /**\n   * FIXME empty description for jsdoc\n   */\n  clear() {\n    this.cache_ = {};\n    this.cacheSize_ = 0;\n  }\n\n  /**\n   * @return {boolean} Can expire cache.\n   */\n  canExpireCache() {\n    return this.cacheSize_ > this.maxCacheSize_;\n  }\n\n  /**\n   * FIXME empty description for jsdoc\n   */\n  expire() {\n    if (this.canExpireCache()) {\n      let i = 0;\n      for (const key in this.cache_) {\n        const iconImage = this.cache_[key];\n        if ((i++ & 3) === 0 && !iconImage.hasListener()) {\n          delete this.cache_[key];\n          --this.cacheSize_;\n        }\n      }\n    }\n  }\n\n  /**\n   * @param {string} src Src.\n   * @param {?string} crossOrigin Cross origin.\n   * @param {import(\"../color.js\").Color} color Color.\n   * @return {import(\"./IconImage.js\").default} Icon image.\n   */\n  get(src, crossOrigin, color) {\n    const key = getKey(src, crossOrigin, color);\n    return key in this.cache_ ? this.cache_[key] : null;\n  }\n\n  /**\n   * @param {string} src Src.\n   * @param {?string} crossOrigin Cross origin.\n   * @param {import(\"../color.js\").Color} color Color.\n   * @param {import(\"./IconImage.js\").default} iconImage Icon image.\n   */\n  set(src, crossOrigin, color, iconImage) {\n    const key = getKey(src, crossOrigin, color);\n    this.cache_[key] = iconImage;\n    ++this.cacheSize_;\n  }\n\n  /**\n   * Set the cache size of the icon cache. Default is `32`. Change this value when\n   * your map uses more than 32 different icon images and you are not caching icon\n   * styles on the application level.\n   * @param {number} maxCacheSize Cache max size.\n   * @api\n   */\n  setSize(maxCacheSize) {\n    this.maxCacheSize_ = maxCacheSize;\n    this.expire();\n  }\n}\n\n/**\n * @param {string} src Src.\n * @param {?string} crossOrigin Cross origin.\n * @param {import(\"../color.js\").Color} color Color.\n * @return {string} Cache key.\n */\nfunction getKey(src, crossOrigin, color) {\n  const colorString = color ? asString(color) : 'null';\n  return crossOrigin + ':' + src + ':' + colorString;\n}\n\nexport default IconImageCache;\n\n/**\n * The {@link module:ol/style/IconImageCache~IconImageCache} for\n * {@link module:ol/style/Icon~Icon} images.\n * @api\n */\nexport const shared = new IconImageCache();\n"],"mappings":";;AAAA;AACA;AACA;AACA,SAAQA,QAAQ,QAAO,aAAa;;AAEpC;AACA;AACA;AACA;AAHA,IAIMC,cAAc;EAClB,SAAAA,eAAA,EAAc;IAAAC,eAAA,OAAAD,cAAA;IACZ;AACJ;AACA;AACA;IACI,IAAI,CAACE,MAAM,GAAG,CAAC,CAAC;;IAEhB;AACJ;AACA;AACA;IACI,IAAI,CAACC,UAAU,GAAG,CAAC;;IAEnB;AACJ;AACA;AACA;IACI,IAAI,CAACC,aAAa,GAAG,EAAE;EACzB;;EAEA;AACF;AACA;EAFEC,YAAA,CAAAL,cAAA;IAAAM,GAAA;IAAAC,KAAA,EAGA,SAAAC,MAAA,EAAQ;MACN,IAAI,CAACN,MAAM,GAAG,CAAC,CAAC;MAChB,IAAI,CAACC,UAAU,GAAG,CAAC;IACrB;;IAEA;AACF;AACA;EAFE;IAAAG,GAAA;IAAAC,KAAA,EAGA,SAAAE,eAAA,EAAiB;MACf,OAAO,IAAI,CAACN,UAAU,GAAG,IAAI,CAACC,aAAa;IAC7C;;IAEA;AACF;AACA;EAFE;IAAAE,GAAA;IAAAC,KAAA,EAGA,SAAAG,OAAA,EAAS;MACP,IAAI,IAAI,CAACD,cAAc,EAAE,EAAE;QACzB,IAAIE,CAAC,GAAG,CAAC;QACT,KAAK,IAAML,GAAG,IAAI,IAAI,CAACJ,MAAM,EAAE;UAC7B,IAAMU,SAAS,GAAG,IAAI,CAACV,MAAM,CAACI,GAAG,CAAC;UAClC,IAAI,CAACK,CAAC,EAAE,GAAG,CAAC,MAAM,CAAC,IAAI,CAACC,SAAS,CAACC,WAAW,EAAE,EAAE;YAC/C,OAAO,IAAI,CAACX,MAAM,CAACI,GAAG,CAAC;YACvB,EAAE,IAAI,CAACH,UAAU;UACnB;QACF;MACF;IACF;;IAEA;AACF;AACA;AACA;AACA;AACA;EALE;IAAAG,GAAA;IAAAC,KAAA,EAMA,SAAAO,IAAIC,GAAG,EAAEC,WAAW,EAAEC,KAAK,EAAE;MAC3B,IAAMX,GAAG,GAAGY,MAAM,CAACH,GAAG,EAAEC,WAAW,EAAEC,KAAK,CAAC;MAC3C,OAAOX,GAAG,IAAI,IAAI,CAACJ,MAAM,GAAG,IAAI,CAACA,MAAM,CAACI,GAAG,CAAC,GAAG,IAAI;IACrD;;IAEA;AACF;AACA;AACA;AACA;AACA;EALE;IAAAA,GAAA;IAAAC,KAAA,EAMA,SAAAY,IAAIJ,GAAG,EAAEC,WAAW,EAAEC,KAAK,EAAEL,SAAS,EAAE;MACtC,IAAMN,GAAG,GAAGY,MAAM,CAACH,GAAG,EAAEC,WAAW,EAAEC,KAAK,CAAC;MAC3C,IAAI,CAACf,MAAM,CAACI,GAAG,CAAC,GAAGM,SAAS;MAC5B,EAAE,IAAI,CAACT,UAAU;IACnB;;IAEA;AACF;AACA;AACA;AACA;AACA;AACA;EANE;IAAAG,GAAA;IAAAC,KAAA,EAOA,SAAAa,QAAQC,YAAY,EAAE;MACpB,IAAI,CAACjB,aAAa,GAAGiB,YAAY;MACjC,IAAI,CAACX,MAAM,EAAE;IACf;EAAC;EAAA,OAAAV,cAAA;AAAA;AAGH;AACA;AACA;AACA;AACA;AACA;AACA,SAASkB,MAAMA,CAACH,GAAG,EAAEC,WAAW,EAAEC,KAAK,EAAE;EACvC,IAAMK,WAAW,GAAGL,KAAK,GAAGlB,QAAQ,CAACkB,KAAK,CAAC,GAAG,MAAM;EACpD,OAAOD,WAAW,GAAG,GAAG,GAAGD,GAAG,GAAG,GAAG,GAAGO,WAAW;AACpD;AAEA,eAAetB,cAAc;;AAE7B;AACA;AACA;AACA;AACA;AACA,OAAO,IAAMuB,MAAM,GAAG,IAAIvB,cAAc,EAAE"},"metadata":{},"sourceType":"module","externalDependencies":[]}